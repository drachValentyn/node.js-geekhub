<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Work 2</title>
</head>
<body>

<script>

    //I saw this on one resource and decided to try it here
    const print = console.log.bind(console);

    //Task #1 --- Find in array: sum, min and max, replace min and max - create custom functions
    let arrNum = [1, 2, 9, 4, 5, 8];
    let list = [2,5,1,null,-10, -Infinity, '1111']

    function arrayMin(arr) {
        let len = arr.length, min = Infinity;
        while (len--) {
            if (arr[len] < min) {
                min = arr[len];
            }
        }
        return min;
    }

    function arrayMax(arr) {
        let len = arr.length, max = -Infinity;
        while (len--) {
            if (arr[len] > max) {
                max = arr[len];
            }
        }
        return max;
    }

    function arifmArr(arr) {


        function fold(reducer, init, xs){
            let acc = init;
            for (const x of xs) {
                acc = reducer(acc, Number(x));
            }
            return acc;
        }

        const reducer = xs => fold((acc, x) => acc + x, 0, xs);

        let summ = reducer(arr);

        let min = arrayMin(arr);
        let max = arrayMax(arr);

        let indexMin = arr.indexOf(min);
        let indexMax = arr.indexOf(max);

        arr[indexMin] = max;
        arr[indexMax] = min;

        let final = {
            arrSum: summ,
            arrMin: min,
            arrMax: max,
            replaceMinMax: arr
        };
        print(final);

        return final;
    }

    arifmArr(list);


    //Task #2 --- Create function which will return function with callback in arguments
    function funcCall(param1, param2) {
        print(param1 + " and " + param2);
        return function (callback, params) {
            callback.apply(this, params);
        }
    }

    //funcCall( "hello", "goodbye");


    //Task #3 --- Create a function that will replace all number dividing three with ‘foo’, dividing seven with ‘bar’ and dividing three and seven with ‘foobar’. Function with n params.
    function fooBar(...args) {
        let length = args[0] || 100;
        let fooNum = args[1] || 3;
        let barNum = args[2] || 7;
        let output;
        for (let i = 1; i <= length; i++) {
            output = '';
            if (i % fooNum === 0) {
                output += 'Foo';
            }
            if (i % barNum === 0) {
                output += 'Bar';
            }
            if (i % fooNum !== 0 && i % barNum !== 0) {
                output += i;
            }
            print(output);
        }
    }

    //fooBar(100,7,3)


    //Task #4 --- Create function with 2 string params. It must check if letters in the first correspond to the number of matches in second and return %.
    function twoStrings(str1, str2) {

        let str1Length = str1.length;
        let str2Length = str2.length;

        let minLength = (str1Length > str2Length) ? str2Length : str1Length;
        let maxLength = (str1Length < str2Length) ? str2Length : str1Length;
        let counter = 0;

        for (let i = 0; i < minLength; i++) {

            let str = str2.toLowerCase();
            let char = str1[i].toLowerCase();
            let n = str.indexOf(char, -1);

            if (n !== -1) {
                counter++;
            }
        }

        let result = Math.round((counter / maxLength) * 100) + "%";

        return result;

    }
    print("adda = awd - " + twoStrings("adda","awd"));



</script>


</body>
</html>
